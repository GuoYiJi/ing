<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>动画算法</title>
	<script type="text/javascript" src="./zepto.js"></script>
	<style type="text/css">
	* {
		margin: 0;
		padding: 0;
	}
	div {
		width: 100px;
		height: 100px;
		background-color: red;
		position: absolute;
	}
	</style>
</head>
<body>
	<div id="div1" style="left: 0;"></div>

	<script type="text/javascript">
		function update(dt) {
	          left += param * (dt * 0.12); // 根据时间差更新位置
	          if (left > 300) {
	              left = 300;
	              param = -1;
	          } else if (left < 0) {
	              left = 0;
	              param = 1;
	          }
	      }
		function move(ele, fps){
			var left = 0;
			var current = +new Date();
			var previous = +new Date();
			var dt = 1000 / 60;
			var acc = 0;
			var param = 1;
			function loop(){
				var current = +new Date();
				var passed = current - previous;
				previous = current;
				acc += passed;
				while (acc >= dt) {
					update(dt);
					acc -= dt;
				}
				ele.style.left = left + "px";
			}
			setInterval(loop, 1000 / fps)
		}
		move(document.getElementById('div1'), 1000);
	</script>
</body>
</html>